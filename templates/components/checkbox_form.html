{% macro render_checkbox_form(form, viewpoint_choices, main_group) %}
<details class="details js-details layer1">
    <summary class="details-summary js-details-summary layer1"><span class="acc-btn"></span>{{ main_group }}</summary>
    <div class="details-content js-details-content layer1">
        {% for subgroup, choices in viewpoint_choices[main_group].items() %}
        <details class="details js-details layer2">
            <summary class="details-summary js-details-summary layer2"><span class="acc-btn"></span>{{ subgroup }}</summary>
            <div class="details-content js-details-content layer2">
                <div class="checkbox-area">
                    {% set field_name = "vp_" + main_group + "_" + subgroup %}
                {% if form[field_name] %}
                    {% for subfield in form[field_name] %}
                        <label>
                            {{ subfield }}
                            <span>{{ subfield.label.text }}</span>
                        </label>
                    {% endfor %}
                {% endif %}
            </div>
        </details>
        {% endfor %}
    </div>
</details>
{% endmacro %}